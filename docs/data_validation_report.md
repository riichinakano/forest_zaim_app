# データ検証レポート

**作成日**: 2025-12-08
**対象データ**: H27年度〜R6年度（全10年度）

## 目次

1. [データ配置状況](#データ配置状況)
2. [科目コード・科目名称の検証](#科目コード科目名称の検証)
3. [科目マスタとの比較](#科目マスタとの比較)
4. [科目コード統一の検討](#科目コード統一の検討)
5. [推奨事項](#推奨事項)

---

## データ配置状況

### 配置済みファイル

全10年度分のCSVファイルが正常に配置されています：

| ファイル名 | 年度 | 西暦 |
|-----------|------|------|
| H27_monthly.csv | 平成27年度 | 2015年度 |
| H28_monthly.csv | 平成28年度 | 2016年度 |
| H29_monthly.csv | 平成29年度 | 2017年度 |
| H30_monthly.csv | 平成30年度 | 2018年度 |
| H31_monthly.csv | 平成31年度/令和元年度 | 2019年度 |
| R2_monthly.csv | 令和2年度 | 2020年度 |
| R3_monthly.csv | 令和3年度 | 2021年度 |
| R4_monthly.csv | 令和4年度 | 2022年度 |
| R5_monthly.csv | 令和5年度 | 2023年度 |
| R6_monthly.csv | 令和6年度 | 2024年度 |

### ファイル形式

- **エンコーディング**: Shift-JIS ✓
- **列構成**: タイトル, 科目コード, 科目名称, 当月迄累計金額, 当月迄累計構成比, 4月〜3月 ✓
- **命名規則**: `{年度}_monthly.csv` ✓

---

## 科目コード・科目名称の検証

### 科目総数

全10年度のデータから抽出された科目コードは**80科目**です。

### 年度別科目数

| 年度 | 科目数 |
|------|--------|
| H27 | 61科目 |
| H28 | 61科目 |
| H29 | 63科目 |
| H30 | 60科目 |
| H31 | 61科目 |
| R2 | 60科目 |
| R3 | 54科目 |
| R4 | 60科目 |
| R5 | 65科目 |
| R6 | 67科目 |

### 科目の分類

科目は以下のカテゴリに分類されます：

#### 1. 収益科目（410, 431, 810-819）
- 売上高（410）
- 仕入高（431）※実質は受託収入の可能性
- 受取利息（810）
- 受取配当金（811）
- Jクレジット収入（812）
- 雑収入（819）

#### 2. 製造原価科目（511-571）
- 労務費（511）
- 燃料費（512）
- 車両費（514）
- 消耗品費（515, 543）
- 減価償却費（516, 545）
- 仕入高（517）
- 当期製品製造原価（520）
- 外注費（540）
- 旅費交通費（542, 543, 544）
- 福利厚生費（544）
- 通信費（545）
- 修繕費（546）
- 租税公課（547, 548）
- 地代家賃（552）
- リース料（553）
- 雑費（559）
- 販売原価（570）
- 期末仕掛品棚卸高（571）

#### 3. 販売費及び一般管理費（610-655）
- 広告宣伝費（610）
- 外注費（611）
- 役員報酬（610, 611, 620）
- 給料手当（621）
- 退職金（623）
- 法定福利費（627）
- 福利厚生費（628, 630）
- リース料（631）
- 修繕費（632, 637）
- 接待交際費（633）
- 旅費交通費（634, 636）
- 通信費（635, 641）
- 消耗品費（636）
- 減価償却費（648）
- 租税公課（638, 639）
- 保険料（638, 640）
- 地代家賃（642, 647）
- 支払手数料（644）
- 雑費（646, 655）

#### 4. 営業外収益・費用（810-823）
- 受取利息（810）
- 受取配当金（811）
- Jクレジット収入（812）
- 雑収入（819）
- 支払利息（820）
- 年賦利息（821）
- 長期前払費用償却（822）
- Jクレジット費用（823）
- 債務免除益（851）
- 雑損失（850, 911）

#### 5. 特別損益（850-864）
- 固定資産除却損（862）
- 退職金（863）
- 山林圧縮損（864）

#### 6. 法人税等（910）
- 法人税、住民税及び事業税（910）

#### 7. 利益剰余金（920）
- 期首繰越利益剰余金（920）

#### 8. 集計・小計科目（9000番台）
- 【純売上高】（9534）
- 【材料費】（9539）
- 【労務費】（9540）
- 【製造経費】（9543）
- 【営業外収益】（9550）
- 【営業外費用】（9552）
- 【特別利益】（9554）
- 【特別損失】（9556）
- 【当期製品製造原価】（9576）
- 【売上原価】（9577）
- 〔売上総利益〕（9578）
- 【販売費及び一般管理費】（9579）
- 〔営業利益〕（9580）
- 〔経常利益〕（9581）
- 〔税引前当期純利益〕（9582）
- 〔当期純利益〕（9583）
- 〔期末繰越利益剰余金〕（9584）

---

## 科目マスタとの比較

### 統計情報

- **科目マスタ登録数**: 60科目
- **実データ科目数**: 80科目
- **共通科目数**: 57科目
- **マスタのみ**: 3科目
- **データのみ**: 23科目

### マスタにあるが実データにない科目（3科目）

これらは将来使用される可能性があるため、マスタに残しておくべきです：

| コード | 科目名 | 分類 |
|--------|--------|------|
| 510 | 期首製品棚卸高 | 製造原価 |
| 530 | 期末製品棚卸高 | 製造原価 |
| 911 | 雑損失 | 営業外費用 |

### 実データにあるがマスタにない科目（23科目）

これらの科目を科目マスタに追加することを推奨します：

#### 集計・小計科目（14科目）

| コード | 科目名 | 出現年度 | 推奨分類 |
|--------|--------|----------|----------|
| 9534 | 【純売上高】 | 全年度 | 集計, 小計 |
| 9539 | 【材料費】 | 全年度 | 集計, 小計 |
| 9540 | 【労務費】 | H27-H31, R2, R6 | 集計, 小計 |
| 9543 | 【製造経費】 | 全年度 | 集計, 小計 |
| 9550 | 【営業外収益】 | 全年度 | 集計, 小計 |
| 9552 | 【営業外費用】 | 全年度 | 集計, 小計 |
| 9554 | 【特別利益】 | H27, H29, R5 | 集計, 小計 |
| 9556 | 【特別損失】 | H27, H28, R5, R6 | 集計, 小計 |
| 9576 | 【当期製品製造原価】 | 全年度 | 集計, 小計 |
| 9577 | 【売上原価】 | 全年度 | 集計, 小計 |
| 9578 | 〔売上総利益〕 | 全年度 | 集計, 小計 |
| 9579 | 【販売費及び一般管理費】 | 全年度 | 集計, 小計 |
| 9580 | 〔営業利益〕 | 全年度 | 集計, 小計 |
| 9581 | 〔経常利益〕 | 全年度 | 集計, 小計 |
| 9582 | 〔税引前当期純利益〕 | 全年度 | 集計, 小計 |
| 9583 | 〔当期純利益〕 | 全年度 | 集計, 小計 |
| 9584 | 〔期末繰越利益剰余金〕 | 全年度 | 集計, 小計 |

#### 利益剰余金（1科目）

| コード | 科目名 | 出現年度 | 推奨分類 |
|--------|--------|----------|----------|
| 920 | 〔期首繰越利益剰余金〕 | 全年度 | 利益剰余金, - |

#### 一般科目（8科目）

| コード | 科目名 | 出現年度 | 推奨分類 |
|--------|--------|----------|----------|
| 441 | 仕入値引戻し高 | H29 | 収益, 売上 |
| 571 | 期末仕掛品棚卸高 | H27-H31 | 費用, 製造原価 |
| 623 | 退職金 | H29 | 費用, 販管費 |
| 863 | 退職金 | H27, H28 | 費用, 特別損失 |
| 851 | 債務免除益 | H27 | 収益, 特別利益 |

---

## 科目コード統一の検討

### 同一科目名称で複数コードが存在するケース（9件）

#### 1. 製造原価 vs 販管費の分類違い（統一すべきでない）

以下の科目は会計上の分類が異なるため、**統一せずにそのまま維持**します：

| 科目名 | 製造原価コード | 販管費コード | 備考 |
|--------|--------------|-------------|------|
| リース料 | 553 | 631 | R6年度で両方使用 |
| 修繕費 | 546 | 632, 637 | 全年度で両方使用 |
| 旅費交通費 | 542, 543, 544 | 634, 636 | 全年度で両方使用 |
| 消耗品費 | 515, 543 | 634, 636 | 全年度で両方使用 |
| 減価償却費 | 516, 545 | 630, 648 | R4以降で両方使用 |
| 租税公課 | 547, 548 | 638, 639 | 全年度で両方使用 |
| 福利厚生費 | 544 | 628, 630 | - |
| 通信費 | 545 | 635, 641 | - |
| 地代家賃 | 552 | 642, 647 | - |
| 保険料 | 548 | 638, 640 | - |
| 雑費 | 559 | 646, 655 | - |

**実データ例（H31年度）**:
- 修繕費: 546（製造原価）66.5万円 vs 632（販管費）11.5万円
- 旅費交通費: 544（製造原価）32.4万円 vs 636（販管費）17.0万円
- 消耗品費: 543（製造原価）10.8万円 vs 634（販管費）1.6万円
- 租税公課: 548（製造原価）10.9万円 vs 638（販管費）224.5万円

→ 同一年度内で両方のコードに金額が計上されており、用途が明確に異なります。

#### 2. 統一可能な科目（年度が重複していない）

| 科目名 | 旧コード | 新コード | 理由 |
|--------|---------|---------|------|
| 退職金 | 863 (H27, H28) | 623 (H29) | 年度が重複せず、統一可能（ただし現状維持も可） |
| 委託費 | 611 (R2) | 540 (R5, R6) | 年度が重複せず、統一可能（ただし現状維持も可） |

#### 3. 要調査科目（同一年度・同一分類内で重複）

| 科目名 | コード | 備考 |
|--------|--------|------|
| 仕入高 | 431 vs 517 | 全年度で両方使用。431は「受託収入」の可能性 |
| 役員報酬 | 610, 611, 620 | 複数の役員を管理している可能性 |

### 科目マスタ内の重複

科目マスタ内でも、同一名称で複数コードが登録されています（12種類）：

| 科目名 | コード数 | コード一覧 | 備考 |
|--------|---------|-----------|------|
| リース料 | 2件 | 553, 631 | 製造原価 vs 販管費 |
| 保険料 | 3件 | 548, 638, 640 | 製造原価 vs 販管費（638と640が重複） |
| 修繕費 | 3件 | 546, 632, 637 | 製造原価 vs 販管費（632と637が重複） |
| 地代家賃 | 3件 | 552, 642, 647 | 製造原価 vs 販管費（642と647が重複） |
| 役員報酬 | 3件 | 610, 611, 620 | すべて販管費 |
| 旅費交通費 | 3件 | 542, 543, 634 | 542と543が両方製造原価 |
| 消耗品費 | 2件 | 515, 636 | 製造原価 vs 販管費 |
| 減価償却費 | 2件 | 516, 648 | 製造原価 vs 販管費 |
| 福利厚生費 | 3件 | 544, 628, 630 | 製造原価 vs 販管費（628と630が重複） |
| 租税公課 | 2件 | 547, 639 | 製造原価 vs 販管費 |
| 通信費 | 3件 | 545, 635, 641 | 製造原価 vs 販管費（635と641が重複） |
| 雑損失 | 2件 | 850, 911 | 両方とも営業外費用 |
| 雑費 | 3件 | 559, 646, 655 | 製造原価 vs 販管費（646と655が重複） |

---

## 推奨事項

### 1. 科目マスタへの追加

以下の23科目を科目マスタに追加することを推奨します：

#### 優先度: 高（集計科目 - アプリケーションで重要）

9000番台の集計・小計科目（17科目）を追加：
- 9534, 9539, 9540, 9543, 9550, 9552, 9554, 9556
- 9576, 9577, 9578, 9579, 9580, 9581, 9582, 9583, 9584
- 920

**登録例**:
```csv
科目コード,科目名,大分類,中分類,固定費区分,表示順
9534,【純売上高】,集計,小計,その他,1000
9578,〔売上総利益〕,集計,小計,その他,1001
9580,〔営業利益〕,集計,小計,その他,1002
```

#### 優先度: 中（一般科目）

通常の損益科目（5科目）を追加：
- 441（仕入値引戻し高）
- 571（期末仕掛品棚卸高）
- 623（退職金）
- 863（退職金 - 特別損失）
- 851（債務免除益）

### 2. 科目コードの統一方針

**結論: 現状維持を推奨**

- **製造原価 vs 販管費**: 統一せず、別コードで管理（会計上必要）
- **退職金・委託費**: 統一可能だが、現状維持でも問題なし
- **その他の重複**: 用途が異なる可能性が高いため、現状維持

### 3. データ整合性の確保

- エンコーディング: Shift-JIS を維持
- 列構成: 現状のフォーマットを維持
- ファイル命名: `{年度}_monthly.csv` を維持

### 4. 今後の運用

- 新年度データ追加時は、科目コードの一貫性を確認
- 新しい科目が追加された場合は、科目マスタにも追加
- 年度ごとの科目数の変動を監視

---

## 付録

### 検証に使用したスクリプト

詳細は `scripts/validation/` フォルダを参照してください：

1. `check_accounts.py` - 全科目の集計
2. `compare_accounts.py` - 科目マスタとの比較
3. `check_duplicate_names.py` - 重複科目名の抽出
4. `analyze_account_unification.py` - 統一可能性の分析

### 出力レポート

検証結果は `scripts/validation/reports/` フォルダに保存されています：

1. `account_comparison_report.txt` - 科目マスタ比較結果
2. `duplicate_names_report.txt` - 重複科目名レポート
3. `unification_analysis.txt` - 統一可能性分析レポート

---

**レポート作成者**: Claude Code
**最終更新日**: 2025-12-08
